---
import { Image } from "astro:assets";
import type { Locale } from "../i18n/i18n";
import { t } from "../i18n/i18n";

import deviceRouter from "../assets/images/device-router.webp";
import deviceMifi from "../assets/images/device-mifi.webp";

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const i = t(locale);

const deviceGroups = [
  {
    type: "router" as const,
    image: deviceRouter,
    models: ["B310", "B311", "B312", "etc."],
  },
  {
    type: "mifi" as const,
    image: deviceMifi,
    models: ["E5573", "E5577", "etc."],
  },
];
---

<section id="devices" class="py-20 sm:py-32 relative">
  <div class="absolute inset-0 -z-10">
    <div
      class="absolute top-0 inset-x-0 h-px bg-linear-to-r from-transparent via-surface-200 dark:via-surface-800 to-transparent"
    >
    </div>
    <div
      class="absolute bottom-1/3 left-0 w-96 h-96 bg-accent-500/5 rounded-full blur-3xl"
    >
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-3xl mx-auto mb-16">
      <h2
        class="text-3xl sm:text-4xl lg:text-5xl font-extrabold tracking-tight"
      >
        <span class="gradient-text">{i.devices.sectionTitle}</span>
      </h2>
      <p class="mt-4 text-lg text-surface-600 dark:text-surface-400">
        {i.devices.sectionDescription}
      </p>
    </div>

    <div class="grid sm:grid-cols-2 gap-8 max-w-4xl mx-auto">
      {
        deviceGroups.map((group, gIdx) => (
          <div
            class={`glass-card p-8 text-center hover:shadow-xl hover:shadow-primary-500/5 transition-all duration-500 hover:-translate-y-1 animate-fade-up stagger-${
              gIdx + 1
            }`}
          >
            <div class="relative w-48 h-48 mx-auto mb-6">
              <div class="absolute inset-0 bg-linear-to-br from-primary-500/10 to-accent-500/10 rounded-2xl blur-xl" />
              <Image
                src={group.image}
                alt={`${i.devices[group.type]} - Huawei LTE Modem`}
                class="relative w-full h-full object-contain drop-shadow-lg rounded-xl"
                format="webp"
                quality={80}
                loading="lazy"
              />
            </div>
            <h3 class="text-lg font-bold text-surface-900 dark:text-white mb-2">
              {i.devices[group.type]}
            </h3>
            <div class="flex flex-wrap justify-center gap-2 mt-4">
              {group.models.map((model) => (
                <span class="px-3 py-1.5 text-sm font-semibold rounded-lg bg-surface-100 dark:bg-surface-800 text-surface-700 dark:text-surface-300 border border-surface-200/50 dark:border-surface-700/50">
                  {model}
                </span>
              ))}
            </div>
          </div>
        ))
      }
    </div>

    <p
      class="text-center mt-8 text-sm text-surface-500 dark:text-surface-400 italic"
    >
      {i.devices.andMore}
    </p>

    <div class="mt-8 text-center">
      <div
        class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-500/10 dark:bg-primary-500/15 border border-primary-500/20"
      >
        <svg
          class="w-4 h-4 text-primary-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span class="text-sm font-medium text-primary-600 dark:text-primary-400"
          >{i.devices.testedOn}
        </span>
      </div>
    </div>
  </div>
</section>
